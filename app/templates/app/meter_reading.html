{% extends "app/base.html" %}

{% block header %}
{% endblock %}

{% block content %}
    <div class="col-md-7">
        <div class="box">
            <div class="box-header">
                <h3 class="box-title">New Reading</h3>
            </div>
            <!-- /.box-header -->
            <div class="box-body">
                <form class="form-horizontal" method="POST">
                    <div class="modal-body">
                        {% csrf_token %}
                        <div class="form-group">
                            <label for="client" class="col-sm-3 control-label">
                                Client
                            </label>
                            <div class="col-sm-9">
                                <select class="selectClient form-control" name="client" id="client">
                                    {% for client in clients %}
                                        <option value="{{ client.id }}">{{ client.last_name }}, {{ client.first_name }} {{ client.middle_name }},</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                        {% if not request.GET.employee %}
                        <div class="form-group">
                            <label for="collector" class="col-sm-3 control-label">
                                Collector
                            </label>
                            <div class="col-sm-9">
                                <select class="selectClient form-control" name="collector" id="collector">
                                    {% for employee in employees %}
                                        <option value="{{ employee.id }}">{{ employee.last_name }}, {{ employee.first_name }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                        {% else %}
                        <input name="collector" id="collector" value="{{ request.GET.employee }}" hidden>
                        {% endif %}

                        <div class="client-meter">
                            <div class="form-group">
                                <label for="waterUsage" class="col-sm-3 control-label">
                                    Last Read
                                </label>
                                <div class="col-sm-9">
                                    <input type="Number" class="form-control" value="0" name="last_reading"
                                           id="last_reading"
                                           placeholder="Manual Input Last Reading">
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="waterUsage" class="col-sm-3 control-label">
                                    New Read
                                </label>
                                <div class="col-sm-9">
                                    <input type="Number" class="form-control" value="0" name="new_reading"
                                           id="new_reading"
                                           placeholder="New Reading">
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="water_consumption" class="col-sm-3 control-label">
                                    Water Consumption (Cubic Meter)
                                </label>
                                <div class="col-sm-9">
                                    <input type="number" class="form-control" name="rate" id="water_consumption"
                                           placeholder="0" readonly>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="totalAmount" class="col-sm-3 control-label">
                                    Total Amount (P)
                                </label>
                                <div class="col-sm-9">
                                    <input type="text" class="form-control" name="totalAmount" id="totalAmount"
                                           value="0"
                                           placeholder="Total Amount" readonly="readonly">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="box-footer">
                        <button type="submit" name="submit" id="saveCollection" value="submit" class="btn btn-primary pull-right">Save</button>
                    </div>
                </form>
            </div>
            <!-- /.box-body -->
        </div>
    </div>
    <div class="col-md-5"></div>
{% endblock %}